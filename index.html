<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" />
<title>What up Gooner</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
:root { --bg: #000; --accent: #ff0606; }
html,body { height:100%; margin:0; background:var(--bg); font-family:"Press Start 2P",monospace; overflow:hidden; color:var(--accent); -webkit-tap-highlight-color: transparent;}
.wrap { height:100%; display:flex; align-items:center; justify-content:center; position:relative; user-select:none; text-align:center; padding:10px;}
.gooner { font-size: clamp(24px,8vw,72px); color:var(--accent); cursor:pointer; padding:20px 30px; border:5px solid var(--accent); border-radius:8px; letter-spacing:4px; background:rgba(255,6,6,0.02); transition: transform 200ms ease, box-shadow 200ms ease; box-shadow: 0 6px 0 rgba(0,0,0,0.6); touch-action:manipulation;}
.gooner:hover { transform: translateY(-8px) scale(1.04); box-shadow: 0 14px 0 rgba(0,0,0,0.6); text-shadow:2px 2px 0 rgba(0,0,0,0.9);}
.gooner:active { transform: translateY(-3px) scale(0.97); box-shadow: 0 4px 0 rgba(0,0,0,0.6);}
.hint { position:absolute; bottom:20px; left:50%; transform:translateX(-50%); font-size:clamp(10px,3vw,14px); color:rgba(255,6,6,0.6); letter-spacing:2px;}
.hidden-text{ position:fixed; top:10px; left:10px; font-size:clamp(8px,2.5vw,12px); color:rgba(255,6,6,0.6); pointer-events:auto; cursor:pointer; z-index:10001; animation: glitch 1.5s 3s;}
.version{ position:fixed; top:10px; right:10px; font-size:clamp(8px,2.5vw,12px); color:rgba(255,6,6,0.6); z-index:10001; letter-spacing:1px;}
@keyframes glitch {0% {text-shadow:2px 0 var(--accent);}20% {text-shadow:-2px 0 var(--accent);}40% {text-shadow:2px 2 var(--accent);}60% {text-shadow:-2px -2 var(--accent);}80% {text-shadow:2px -2 var(--accent);}100% {text-shadow:none;}}
.overlay { position:fixed; inset:0; background:var(--bg); display:none; align-items:center; justify-content:center; z-index:9999; overflow:hidden; flex-direction:column;}
.overlay.active { display:flex;}
.surface { position:relative; width:100%; height:100%; pointer-events:none;}
.stamp { position:absolute; color:var(--accent); font-size:clamp(28px,10vw,160px); opacity:0; pointer-events:none; animation: flash 1s linear infinite; text-align:center;}
@keyframes flash {0%,100%{opacity:0;transform:scale(0.9);} 20%,80%{opacity:1;transform:scale(1);}}
.center-giant { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); font-size:clamp(48px,14vw,240px); opacity:0; pointer-events:none; animation:pulse 1.2s ease-in-out infinite;}
@keyframes pulse {0%{opacity:0;transform:translate(-50%,-50%) scale(0.9);}50%{opacity:1;transform:translate(-50%,-50%) scale(1.05);}100%{opacity:0;transform:translate(-50%,-50%) scale(0.95);}}
.glitch-static { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); font-size:clamp(40px,12vw,200px); color:white; animation: tvGlitch 0.8s infinite; letter-spacing:2px; pointer-events:none;}
@keyframes tvGlitch {0% { transform: translate(-50%,-50%) skew(0deg); opacity:1; }20% { transform: translate(-51%,-49%) skew(-1deg); opacity:1; }50% { transform: translate(-50%,-50%) skew(2deg); opacity:.9; }100% { transform: translate(-50%,-50%) skew(0deg); opacity:1; } }
.close-btn{ position:fixed; top:10px; right:10px; font-size:clamp(10px,4vw,14px); border:2px solid var(--accent); color:var(--accent); background:transparent; padding:6px 10px; border-radius:6px; cursor:pointer; z-index:10000; pointer-events:auto;}
.close-btn:active{ transform:scale(0.9);}
canvas { border:4px solid var(--accent); background:black; }
h1 { color:var(--accent); font-size: clamp(24px, 8vw, 72px); margin-bottom:20px; text-align:center; }
</style>
</head>
<body>
<div class="hidden-text" id="hiddenText">you're cool</div>
<div class="version">v1.0</div>
<div class="wrap">
  <div class="gooner" id="mainGooner">what up gooner</div>
  <div class="hint">tap / click me</div>
</div>

<div class="overlay" id="overlayGonner">
  <button class="close-btn" onclick="closeOverlay('overlayGonner')">CLOSE</button>
  <div class="surface" id="surfaceGonner"></div>
  <div class="center-giant">GONNER</div>
</div>

<div class="overlay" id="overlayWhy">
  <button class="close-btn" onclick="closeOverlay('overlayWhy')">CLOSE</button>
  <div class="glitch-static">WHY ARE YOU HERE</div>
</div>

<div class="overlay" id="overlayRunner">
  <button class="close-btn" onclick="closeOverlay('overlayRunner')">CLOSE</button>
  <h1>RUNNER</h1>
  <div id="runnerScore" style="margin-top:10px; font-size:18px;">SCORE: 0</div>
  <canvas id="runnerCanvas" width="600" height="800"></canvas>
</div>

<script>
let runnerGame = null;

function closeOverlay(id) {
  document.getElementById(id).classList.remove('active');
  if(id === 'overlayRunner' && runnerGame) {
    runnerGame.stop();
  }
}

function populateStamps(surface, text, count) {
  surface.innerHTML = '';
  for(let i = 0; i < count; i++) {
    const s = document.createElement('div');
    s.className = 'stamp';
    s.textContent = text;
    s.style.left = (Math.random() * 100) + 'vw';
    s.style.top = (Math.random() * 100) + 'vh';
    s.style.animationDelay = (Math.random()) + 's';
    s.style.animationDuration = (Math.random() + 0.8) + 's';
    surface.appendChild(s);
  }
}

class RunnerGame {
  constructor(canvas) {
    this.canvas = canvas;
    this.ctx = canvas.getContext('2d');
    this.running = false;
    this.score = 0;
    this.scrollY = 0;
    this.speed = 5;
    this.player = {lane: 1, targetLane: 1, transition: 1, jumping: false, jumpY: 0, jumpVel: 0};
    this.obstacles = [];
    this.coins = [];
    this.animFrame = null;
    this.setupControls();
  }
  
  setupControls() {
    document.addEventListener('keydown', (e) => {
      if(!document.getElementById('overlayRunner').classList.contains('active')) return;
      
      if((e.key === 'ArrowUp' || e.key === 'w' || e.key === ' ') && !this.player.jumping && this.player.jumpY === 0) {
        this.player.jumping = true;
        this.player.jumpVel = -18;
      }
      if((e.key === 'ArrowLeft' || e.key === 'a') && this.player.targetLane > 0 && this.player.transition >= 0.9) {
        this.player.targetLane--;
        this.player.transition = 0;
      }
      if((e.key === 'ArrowRight' || e.key === 'd') && this.player.targetLane < 2 && this.player.transition >= 0.9) {
        this.player.targetLane++;
        this.player.transition = 0;
      }
    });
  }
  
  start() {
    this.running = true;
    this.score = 0;
    this.scrollY = 0;
    this.player = {lane: 1, targetLane: 1, transition: 1, jumping: false, jumpY: 0, jumpVel: 0};
    this.obstacles = [];
    this.coins = [];
    
    for(let i = 0; i < 10; i++) {
      if(Math.random() > 0.5) {
        this.obstacles.push({
          y: -800 - i * 150,
          lane: Math.floor(Math.random() * 3),
          type: Math.random() > 0.5 ? 'train' : 'barrier'
        });
      }
      if(Math.random() > 0.6) {
        const lane = Math.floor(Math.random() * 3);
        for(let j = 0; j < 5; j++) {
          this.coins.push({y: -800 - i * 150 - j * 30, lane: lane});
        }
      }
    }
    
    this.update();
  }
  
  stop() {
    this.running = false;
    if(this.animFrame) {
      cancelAnimationFrame(this.animFrame);
    }
  }
  
  draw() {
    const w = this.canvas.width;
    const h = this.canvas.height;
    const laneW = w / 3;
    
    this.ctx.fillStyle = '#0a001a';
    this.ctx.fillRect(0, 0, w, h);
    
    // Draw lanes
    for(let lane = 0; lane < 3; lane++) {
      const x = lane * laneW + laneW / 2;
      this.ctx.strokeStyle = '#660000';
      this.ctx.lineWidth = laneW * 0.9;
      this.ctx.beginPath();
      this.ctx.moveTo(x, 0);
      this.ctx.lineTo(x, h);
      this.ctx.stroke();
      
      this.ctx.strokeStyle = '#330000';
      this.ctx.lineWidth = 3;
      for(let y = this.scrollY % 60; y < h; y += 60) {
        this.ctx.beginPath();
        this.ctx.moveTo(x - laneW * 0.3, y);
        this.ctx.lineTo(x + laneW * 0.3, y);
        this.ctx.stroke();
      }
    }
    
    // Draw obstacles
    this.obstacles.forEach(obs => {
      const sy = obs.y - this.scrollY;
      if(sy > -100 && sy < h + 100) {
        const x = obs.lane * laneW + laneW / 2;
        const size = 80;
        
        if(obs.type === 'train') {
          this.ctx.fillStyle = '#ff0606';
          this.ctx.fillRect(x - size/2, sy, size, size*0.8);
          this.ctx.fillStyle = '#000';
          this.ctx.fillRect(x - size*0.3, sy + size*0.2, size*0.2, size*0.3);
          this.ctx.fillRect(x + size*0.1, sy + size*0.2, size*0.2, size*0.3);
          this.ctx.strokeStyle = '#cc0000';
          this.ctx.lineWidth = 4;
          this.ctx.strokeRect(x - size/2, sy, size, size*0.8);
        } else {
          this.ctx.fillStyle = '#ff0606';
          this.ctx.fillRect(x - size*0.4, sy, size*0.8, size*0.5);
          this.ctx.fillStyle = '#000';
          for(let i = 0; i < 3; i++) {
            this.ctx.fillRect(x - size*0.3, sy + size*0.1 + i*size*0.15, size*0.6, size*0.08);
          }
          this.ctx.strokeStyle = '#cc0000';
          this.ctx.lineWidth = 4;
          this.ctx.strokeRect(x - size*0.4, sy, size*0.8, size*0.5);
        }
      }
    });
    
    // Draw coins
    this.coins.forEach(coin => {
      const sy = coin.y - this.scrollY;
      if(sy > -50 && sy < h + 50) {
        const x = coin.lane * laneW + laneW / 2;
        this.ctx.fillStyle = '#ff0606';
        this.ctx.beginPath();
        this.ctx.arc(x, sy, 12, 0, Math.PI * 2);
        this.ctx.fill();
        this.ctx.fillStyle = '#000';
        this.ctx.beginPath();
        this.ctx.arc(x, sy, 6, 0, Math.PI * 2);
        this.ctx.fill();
      }
    });
    
    // Draw player in the middle
    const playerY = h / 2 + 50 + this.player.jumpY;
    const playerX = this.player.lane * laneW + (this.player.targetLane - this.player.lane) * (1 - this.player.transition) * laneW + laneW / 2;
    const pSize = 40;
    
    this.ctx.fillStyle = '#ff0606';
    this.ctx.fillRect(playerX - pSize*0.3, playerY - pSize*1.2, pSize*0.6, pSize*0.5);
    this.ctx.fillStyle = '#cc0000';
    this.ctx.fillRect(playerX - pSize*0.4, playerY - pSize*0.8, pSize*0.8, pSize*0.6);
    this.ctx.fillStyle = '#ff0606';
    this.ctx.fillRect(playerX - pSize*0.3, playerY - pSize*0.3, pSize*0.25, pSize*0.5);
    this.ctx.fillRect(playerX + pSize*0.05, playerY - pSize*0.3, pSize*0.25, pSize*0.5);
    this.ctx.fillStyle = '#000';
    this.ctx.fillRect(playerX - pSize*0.2, playerY - pSize*1.05, pSize*0.15, pSize*0.15);
    this.ctx.fillRect(playerX + pSize*0.05, playerY - pSize*1.05, pSize*0.15, pSize*0.15);
    
    // Draw score
    this.ctx.fillStyle = '#ff0606';
    this.ctx.font = '20px "Press Start 2P"';
    this.ctx.fillText('SCORE: ' + this.score, 20, 30);
  }
  
  update() {
    if(!this.running) return;
    
    this.scrollY += this.speed;
    
    if(this.player.transition < 1) {
      this.player.transition += 0.12;
      if(this.player.transition >= 1) {
        this.player.transition = 1;
        this.player.lane = this.player.targetLane;
      }
    }
    
    if(this.player.jumping) {
      this.player.jumpVel += 1.2;
      this.player.jumpY += this.player.jumpVel;
      if(this.player.jumpY >= 0) {
        this.player.jumpY = 0;
        this.player.jumpVel = 0;
        this.player.jumping = false;
      }
    }
    
    // Update obstacles
    for(let i = this.obstacles.length - 1; i >= 0; i--) {
      if(this.obstacles[i].y - this.scrollY > this.canvas.height + 100) {
        this.obstacles.splice(i, 1);
        this.score += 10;
        document.getElementById('runnerScore').textContent = 'SCORE: ' + this.score;
      } else if(this.obstacles[i].y - this.scrollY > this.canvas.height - 180 && 
                this.obstacles[i].y - this.scrollY < this.canvas.height - 60 &&
                this.obstacles[i].lane === this.player.lane && 
                this.player.jumpY > -60) {
        this.running = false;
        alert('GAME OVER! Score: ' + this.score);
        closeOverlay('overlayRunner');
        return;
      }
    }
    
    // Update coins
    for(let i = this.coins.length - 1; i >= 0; i--) {
      if(this.coins[i].y - this.scrollY > this.canvas.height + 50) {
        this.coins.splice(i, 1);
      } else if(this.coins[i].y - this.scrollY > this.canvas.height - 150 && 
                this.coins[i].y - this.scrollY < this.canvas.height - 90 &&
                this.coins[i].lane === this.player.lane) {
        this.coins.splice(i, 1);
        this.score += 5;
        document.getElementById('runnerScore').textContent = 'SCORE: ' + this.score;
      }
    }
    
    // Spawn new obstacles
    if(this.obstacles.length < 8 && Math.random() > 0.98) {
      this.obstacles.push({
        y: this.scrollY - 200,
        lane: Math.floor(Math.random() * 3),
        type: Math.random() > 0.5 ? 'train' : 'barrier'
      });
    }
    
    // Spawn new coins
    if(this.coins.length < 15 && Math.random() > 0.97) {
      const lane = Math.floor(Math.random() * 3);
      for(let j = 0; j < 5; j++) {
        this.coins.push({
          y: this.scrollY - 200 - j * 30,
          lane: lane
        });
      }
    }
    
    this.draw();
    this.animFrame = requestAnimationFrame(() => this.update());
  }
}

// Initialize on page load
window.addEventListener('DOMContentLoaded', function() {
  const mainBtn = document.getElementById('mainGooner');
  const hiddenTxt = document.getElementById('hiddenText');
  
  mainBtn.addEventListener('click', function(e) {
    e.stopPropagation();
    document.getElementById('overlayGonner').classList.add('active');
    populateStamps(document.getElementById('surfaceGonner'), 'GONNER', 35);
  });
  
  hiddenTxt.addEventListener('click', function(e) {
    e.stopPropagation();
    document.getElementById('overlayWhy').classList.add('active');
  });
  
  // Secret code tracking
  let goodboyInput = [];
  document.addEventListener('keydown', function(e) {
    const key = e.key.toLowerCase();
    goodboyInput.push(key);
    if(goodboyInput.length > 7) goodboyInput.shift();
    
    if(goodboyInput.join('') === 'goodboy') {
      document.getElementById('overlayRunner').classList.add('active');
      if(!runnerGame) {
        runnerGame = new RunnerGame(document.getElementById('runnerCanvas'));
      }
      runnerGame.start();
      goodboyInput = [];
    }
  });
  
  console.log("Everything loaded and ready!");
});
</script>
</body>
</html>
