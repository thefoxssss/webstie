<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
    <title>GOONER TERMINAL V33 [MODULAR]</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="flicker-on">

    <canvas id="matrixCanvas"></canvas>
    <div id="hackOverlay"><div>ROOT ACCESS REQUESTED...</div><div>BYPASSING FIREWALL...</div><div>ACCESS GRANTED.</div></div>
    <div id="toastBox"></div>

    <!-- UI BARS -->
    <div class="top-bar">
        <button class="menu-btn" onclick="window.gameUI.openOverlay('overlayConfig')">CONFIG</button>
        <div class="sys-info">
            <span id="sysClock">00:00:00</span> | PING: <span id="sysPing">24ms</span> | BANK: $<span id="globalBank">0</span>
        </div>
        <div style="display:flex; gap:10px;">
            <button class="menu-btn" onclick="window.gameUI.openOverlay('overlayBank')">BANK</button>
            <button class="menu-btn" onclick="window.gameUI.openOverlay('overlayShop')">SHOP</button>
            <button class="menu-btn" onclick="window.gameUI.openOverlay('overlayProfile')">PROFILE</button>
            <button class="menu-btn" onclick="window.gameUI.openOverlay('overlayScores')">SCORES</button>
            <button class="menu-btn" id="menuToggle">GAMES â–¼</button>
        </div>
    </div>

    <div class="dropdown-content" id="menuDropdown">
        <button onclick="window.gameUI.launch('geo')">GEO DASH</button>
        <button onclick="window.gameUI.launch('type')">TYPE RUNNER</button>
        <button onclick="window.gameUI.launch('pong')">PONG</button>
        <button onclick="window.gameUI.launch('snake')">SNAKE</button>
        <button onclick="window.gameUI.launch('runner')">RUNNER (V2)</button>
        <button onclick="window.gameUI.launch('blackjack')" style="border-top:1px solid #444">BLACKJACK (PVP)</button>
        <button onclick="window.gameUI.launch('ttt')">TIC TAC TOE</button>
        <button onclick="window.gameUI.launch('flappy')" id="btnFlappy" style="display:none; color:gold;">FLAPPY GOON</button>
    </div>

    <!-- MAIN MENU -->
    <div class="wrap">
        <div class="gooner-btn" id="mainBtn">GOONER</div>
        <div class="subtitle">TERMINAL ONLINE</div>
        <div style="margin-top:20px; font-size:10px;">OPERATOR: <span id="displayUser">ANON</span> <span id="displayRank" style="color:#fff; background:rgba(255,6,6,0.2); padding:2px 5px;">[RAT]</span></div>
    </div>

    <!-- CHAT -->
    <div id="globalChat">
        <div id="chatHistory"></div>
        <input type="text" id="chatInput" placeholder="TYPE MESSAGE..." maxlength="30">
    </div>

    <!-- OVERLAYS (Login, Profile, Games) -->
    <!-- Note: Keeping HTML structure in index for simplicity, logic moves to JS -->
    
    <div class="overlay active" id="overlayLogin">
        <div class="login-box">
            <h1 style="margin-bottom:30px;">SECURE LOGIN</h1>
            <input type="text" id="usernameInput" class="term-input" placeholder="CODENAME" maxlength="10">
            <input type="password" id="pinInput" class="term-input" placeholder="4-DIGIT PIN" maxlength="4" style="letter-spacing:5px;">
            <div style="display:flex; gap:10px;">
                <button class="term-btn" id="btnLogin">LOGIN</button>
                <button class="term-btn" id="btnRegister" style="border-color:#0f0; color:#0f0;">REGISTER</button>
            </div>
            <p id="loginMsg" style="font-size:10px; margin-top:20px; color:yellow;"></p>
        </div>
    </div>

    <!-- Include other overlays here (Profile, Shop, Bank, Config) same as original -->
    <!-- I am abbreviating them for the file split example, copy them from your original -->
    <div class="overlay" id="overlayProfile"><div class="score-box"><h2 style="text-align:center;">PROFILE</h2><div class="profile-stats"><div class="stat-row"><span>NAME</span><span id="profName">...</span></div><div class="stat-row"><span>RANK</span><span id="profRank">...</span></div></div><div class="badge-grid" id="badgeGrid"></div><button class="term-btn" onclick="window.gameUI.closeAll()">CLOSE</button></div></div>
    <div class="overlay" id="overlayShop"><div class="score-box"><h2>SHOP</h2><div class="shop-list" id="shopList"></div><button class="term-btn" onclick="window.gameUI.closeAll()">CLOSE</button></div></div>
    <div class="overlay" id="overlayBank"><div class="score-box"><h2>BANK</h2><div id="bankLog" class="bank-log"></div><button class="term-btn" onclick="window.gameUI.closeAll()">CLOSE</button></div></div>
    <div class="overlay" id="overlayScores"><div class="score-box"><h2>SCORES</h2><div class="score-list" id="scoreList"></div><button class="term-btn" onclick="window.gameUI.closeAll()">CLOSE</button></div></div>
    
    <!-- GAME OVERLAYS -->
    <div class="overlay" id="overlayBlackjack">
        <h1>BLACKJACK</h1>
        <div id="bjMode" class="menu-box">
            <button class="term-btn" onclick="window.bjGame.selectMode('solo')">SOLO (VS DEALER)</button>
            <br><br>
            <button class="term-btn" onclick="window.bjGame.selectMode('multi')">PVP (4 PLAYER)</button>
        </div>
        <div id="bjNetMenu" class="menu-box" style="display:none;">
            <button class="term-btn" id="btnCreateBJ">CREATE TABLE</button>
            <p>- OR -</p>
            <input type="text" id="joinBJCode" class="term-input" placeholder="CODE" maxlength="4">
            <button class="term-btn" id="btnJoinBJ">JOIN TABLE</button>
        </div>
        <div id="bjLobby" class="menu-box" style="display:none;">
            <h2>ROOM: <span id="bjRoomId">????</span></h2>
            <div id="bjPList" style="text-align:left; margin:20px 0;"></div>
            <button class="term-btn" id="bjStartBtn" style="display:none; color:#0f0;">START GAME</button>
            <div id="bjWait" style="font-size:10px;">WAITING...</div>
        </div>
        <div id="bjTable" class="bj-table" style="display:none;">
            <div class="bj-pot-display">POT: $<span id="bjPot">0</span></div>
            <div class="bj-side-table" id="bjSide"></div>
            <div class="bj-area" id="bjSeat0" style="margin-bottom:10px;">
                <span class="bj-label" id="bjHostLabel">OPPONENT</span>
                <div class="bj-hand" id="bjDealerHand"></div>
                <div class="bj-score" id="bjDealerScore"></div>
            </div>
            <div style="display:flex; align-items:center; gap:20px; margin:10px;">
                <div class="bj-deck-container" id="bjDeck">
                    <div class="bj-deck-card"></div><div class="bj-deck-card"></div>
                    <div style="position:absolute; background:#000; padding:2px; font-size:10px; z-index:5;">ACTION</div>
                </div>
                <div id="bjMessage" style="width:150px; text-align:center; font-size:10px;">PLACE BET</div>
            </div>
            <div class="bj-area active-seat" id="bjMySeat">
                <span class="bj-label">YOU</span>
                <div class="bj-hand" id="bjPlayerHand"></div>
                <div class="bj-score" id="bjPlayerScore"></div>
            </div>
            <div class="bj-controls" id="bjGameBtns" style="display:none;"><button class="term-btn" id="bjHit">HIT</button><button class="term-btn" id="bjStand">STAND</button></div>
            <div id="bjBetBtns">
                <div style="text-align:center; margin-bottom:5px;">BET: $<span id="bjBetVal">0</span></div>
                <div class="bj-chip-rack"><div class="bj-chip" data-v="10">10</div><div class="bj-chip" data-v="50">50</div><div class="bj-chip" data-v="100">100</div><div class="bj-chip bj-all-in" id="bjAllIn">ALL</div><div class="bj-chip" id="bjClear" style="border-color:#fff; color:#fff;">CLR</div></div>
            </div>
        </div>
        <button class="exit-btn-fixed" onclick="window.gameUI.closeAll()">EXIT SYSTEM</button>
    </div>

    <!-- CANVAS GAMES OVERLAYS -->
    <div class="overlay" id="overlayPong"><h1>PONG</h1><div style="margin-bottom:10px;">SCORE: <span id="pongScore">0 : 0</span></div><canvas id="pongCanvas" width="800" height="600"></canvas><button class="exit-btn-fixed" onclick="window.gameUI.closeAll()">EXIT</button></div>
    <div class="overlay" id="overlaySnake"><h1>SNAKE</h1><div style="margin-bottom:10px;">SCORE: <span id="snakeScoreVal">0</span></div><canvas id="snakeCanvas" width="600" height="400"></canvas><div class="touch-controls active" id="snakeControls"></div><button class="exit-btn-fixed" onclick="window.gameUI.closeAll()">EXIT</button></div>
    <div class="overlay" id="overlayGeo"><h1>GEO DASH</h1><div id="geoScore">SCORE: 0</div><canvas id="geoCanvas" width="800" height="400"></canvas><button class="exit-btn-fixed" onclick="window.gameUI.closeAll()">EXIT</button></div>
    
    <!-- MODAL GAME OVER -->
    <div class="overlay" id="modalGameOver" style="background:rgba(0,0,0,0.9); z-index:9000;">
        <h1 style="color:red; font-size:30px; margin-bottom:20px;">SYSTEM FAILURE</h1>
        <p id="gameOverText" style="margin-bottom:30px; font-size:14px;">SCORE: 0</p>
        <button class="term-btn" id="goRestart" style="width:200px;">REBOOT SYSTEM</button>
        <button class="menu-btn" id="goExit" style="margin-top:20px;">EXIT TO MENU</button>
    </div>

    <!-- ENTRY POINT -->
    <script type="module" src="js/main.js"></script>
</body>
</html>
