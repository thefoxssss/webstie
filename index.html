<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"/>
<title>What up Gooner</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
:root{--bg:#000;--accent:#ff0606}
html,body{height:100%;margin:0;background:var(--bg);font-family:"Press Start 2P",monospace;overflow:hidden;color:var(--accent)}
.wrap{height:100%;display:flex;align-items:center;justify-content:center;position:relative;text-align:center;padding:10px}
.gooner{font-size:clamp(24px,8vw,72px);color:var(--accent);cursor:pointer;padding:20px 30px;border:5px solid var(--accent);border-radius:8px;letter-spacing:4px;background:rgba(255,6,6,0.02);transition:transform 200ms;box-shadow:0 6px 0 rgba(0,0,0,0.6)}
.gooner:hover{transform:translateY(-8px) scale(1.04);box-shadow:0 14px 0 rgba(0,0,0,0.6)}
.hint{position:absolute;bottom:80px;left:50%;transform:translateX(-50%);font-size:clamp(10px,3vw,14px);color:rgba(255,6,6,0.6)}
.home-input-container{position:absolute;bottom:20px;left:50%;transform:translateX(-50%);width:80%;max-width:400px}
.home-input{width:100%;background:rgba(255,6,6,0.1);border:2px solid var(--accent);color:var(--accent);padding:12px;font-family:"Press Start 2P",monospace;font-size:clamp(10px,2.5vw,14px);border-radius:6px;outline:none;text-align:center;box-sizing:border-box}
.hidden-text{position:fixed;top:10px;left:10px;font-size:12px;color:rgba(255,6,6,0.6);cursor:pointer;z-index:10001}
.version{position:fixed;top:10px;right:10px;font-size:12px;color:rgba(255,6,6,0.6);z-index:10001}
.overlay{position:fixed;inset:0;background:var(--bg);display:none;align-items:center;justify-content:center;z-index:9999;flex-direction:column;overflow-y:auto}
.overlay.active{display:flex}
.surface{position:relative;width:100%;height:100%}
.stamp{position:absolute;color:var(--accent);font-size:clamp(28px,10vw,160px);opacity:0;animation:flash 1s linear infinite}
@keyframes flash{0%,100%{opacity:0}20%,80%{opacity:1}}
.center-giant{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:clamp(48px,14vw,240px);opacity:0;animation:pulse 1.2s ease-in-out infinite}
@keyframes pulse{0%,100%{opacity:0}50%{opacity:1}}
.glitch-static{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:clamp(40px,12vw,200px);color:white;animation:tvGlitch 0.8s infinite}
@keyframes tvGlitch{0%,100%{transform:translate(-50%,-50%) skew(0deg)}50%{transform:translate(-50%,-50%) skew(2deg);opacity:.9}}
.close-btn{position:fixed;top:10px;right:10px;font-size:14px;border:2px solid var(--accent);color:var(--accent);background:transparent;padding:6px 10px;border-radius:6px;cursor:pointer;z-index:10000}
.difficulty-btn{background:transparent;border:2px solid var(--accent);color:var(--accent);padding:8px 16px;margin:5px;cursor:pointer;font-family:"Press Start 2P",monospace;font-size:10px;border-radius:5px;transition:all 0.3s}
.difficulty-btn:hover{background:var(--accent);color:#000}
#overlayNate{background:linear-gradient(180deg,#0a0000 0%,#000 50%,#0a0000 100%)}
#overlayNate h1{color:var(--accent);font-size:clamp(32px,10vw,96px);margin:10px 0;text-align:center;text-shadow:0 0 20px rgba(255,6,6,0.8)}
.nate-container{width:90%;max-width:1000px;display:flex;gap:20px;align-items:flex-start}
.nate-left{display:flex;flex-direction:column;align-items:center}
.nate-character-canvas{width:300px;height:450px;border:4px solid var(--accent);background:#000;box-shadow:0 0 30px rgba(255,6,6,0.5);border-radius:8px}
.nate-stats{margin-top:20px;display:flex;gap:30px;font-size:14px}
.stat-label{color:rgba(255,6,6,0.7);margin-bottom:5px}
.stat-value{color:var(--accent);font-size:24px}
.nate-right{flex:1;display:flex;flex-direction:column;gap:12px}
.nate-dialogue-box{background:rgba(255,6,6,0.05);border:3px solid var(--accent);border-radius:12px;padding:30px;min-height:200px;position:relative}
.nate-name{color:var(--accent);font-size:20px;margin-bottom:15px}
.nate-text{color:#fff;font-size:16px;line-height:1.8;margin-bottom:20px}
.nate-emotion{position:absolute;top:15px;right:15px;font-size:12px}
.nate-choices{display:flex;flex-direction:column;gap:12px}
.nate-choice-btn{background:transparent;border:3px solid var(--accent);color:var(--accent);padding:15px;cursor:pointer;border-radius:8px;font-family:"Press Start 2P",monospace;font-size:14px;transition:all 0.3s}
.nate-choice-btn:hover{background:var(--accent);color:#000}
.nate-scene-transition{position:fixed;inset:0;background:var(--accent);z-index:10001;pointer-events:none;opacity:0;transition:opacity 0.5s}
.nate-scene-transition.active{opacity:1}
.nate-ending-screen{display:none;position:fixed;inset:0;background:linear-gradient(135deg,#000,#1a0000);align-items:center;justify-content:center;flex-direction:column;z-index:10002}
.nate-ending-screen.active{display:flex}
.nate-ending-title{font-size:clamp(24px,6vw,48px);color:var(--accent);margin-bottom:30px;text-align:center;padding:0 20px}
.nate-ending-text{font-size:16px;color:#fff;max-width:600px;text-align:center;line-height:1.8;margin-bottom:40px;padding:0 20px}
.nate-ending-btn{background:transparent;border:3px solid var(--accent);color:var(--accent);padding:15px 40px;cursor:pointer;border-radius:8px;font-family:"Press Start 2P",monospace;font-size:16px;transition:all 0.3s}
.nate-ending-btn:hover{background:var(--accent);color:#000}
@media (max-width:768px){.nate-container{flex-direction:column;align-items:center}.nate-character-canvas{width:250px;height:375px}}
</style>
</head>
<body>
<div class="hidden-text" id="hiddenText">you're cool</div>
<div class="version">v25.0 FINAL</div>
<div class="wrap">
  <div class="gooner" id="mainGooner">what up gooner</div>
  <div class="hint">type a secret code below</div>
  <div class="home-input-container">
    <input type="text" class="home-input" id="homeInput" placeholder="enter code..." autocomplete="off"/>
  </div>
</div>

<div class="overlay" id="overlaygooner">
  <button class="close-btn" data-close="overlaygooner">CLOSE</button>
  <div class="surface" id="surfacegooner"></div>
  <div class="center-giant">gooner</div>
</div>

<div class="overlay" id="overlayWhy">
  <button class="close-btn" data-close="overlayWhy">CLOSE</button>
  <div class="glitch-static">WHY ARE YOU HERE</div>
</div>

<div class="overlay" id="overlayNate">
  <button class="close-btn" data-close="overlayNate">CLOSE</button>
  
  <div id="nateMainMenu" style="display:flex;flex-direction:column;align-items:center;gap:30px;padding:20px">
    <h1 style="color:var(--accent);font-size:clamp(48px,12vw,96px);margin:0;text-shadow:0 0 20px rgba(255,6,6,0.8)">NATE</h1>
    <p style="color:#fff;font-size:18px;text-align:center;max-width:600px">A Dating Simulator<br><span style="font-size:12px;color:rgba(255,6,6,0.6);margin-top:10px;display:block">85 Endings â€¢ 100+ Dialogue Paths</span></p>
    <button class="difficulty-btn" id="natePlayBtn" style="font-size:20px;padding:15px 40px">PLAY</button>
  </div>
  
  <div id="nateCharSelect" style="display:none;flex-direction:column;align-items:center;gap:30px;padding:20px">
    <h1 style="color:var(--accent);font-size:clamp(32px,10vw,72px);margin:0;text-shadow:0 0 20px rgba(255,6,6,0.8)">SELECT YOUR DATE</h1>
    <div style="display:flex;gap:20px;flex-wrap:wrap;justify-content:center">
      <div id="selectNate" style="cursor:pointer;border:3px solid var(--accent);padding:20px;border-radius:10px;transition:all 0.3s;background:rgba(255,6,6,0.05)">
        <canvas width="150" height="225" id="nateSelectCanvas" style="display:block;margin-bottom:10px"></canvas>
        <div style="text-align:center;color:var(--accent);font-size:16px">NATE</div>
        <div style="text-align:center;color:rgba(255,6,6,0.6);font-size:10px;margin-top:5px">24 â€¢ Digital Artist</div>
      </div>
    </div>
    <button class="difficulty-btn" id="nateBackBtn" style="font-size:14px;padding:10px 25px">BACK</button>
  </div>
  
  <div id="nateGameScreen" style="display:none;padding:20px">
    <h1>NATE</h1>
    <div class="nate-container">
      <div class="nate-left">
        <canvas class="nate-character-canvas" id="nateCharCanvas" width="300" height="450"></canvas>
        <div class="nate-stats">
          <div><div class="stat-label">AFFECTION</div><div class="stat-value" id="nateAffection">0</div></div>
          <div><div class="stat-label">AWARENESS</div><div class="stat-value" id="nateAwareness">0</div></div>
          <div><div class="stat-label">GLITCH</div><div class="stat-value" id="nateGlitch">0%</div></div>
        </div>
      </div>
      <div class="nate-right">
        <div class="nate-dialogue-box">
          <div class="nate-name">NATE</div>
          <div class="nate-emotion" id="nateEmotion">ðŸ˜Š</div>
          <div class="nate-text" id="nateDialogueText">Loading...</div>
        </div>
        <div class="nate-choices" id="nateChoicesContainer"></div>
      </div>
    </div>
  </div>
</div>

<div class="nate-scene-transition" id="nateTransition"></div>
<div class="nate-ending-screen" id="nateEndingScreen">
  <div class="nate-ending-title" id="nateEndingTitle">TRUE ENDING</div>
  <div class="nate-ending-text" id="nateEndingText">You and Nate...</div>
  <button class="nate-ending-btn" id="nateRestartBtn">PLAY AGAIN</button>
</div>

<!-- Load NATE dialogue data from external file -->
<script src="nate_scenes.js"></script>

<script>
// NATE Game State
const NATE_STATE = {
  currentScene: 'intro',
  affection: 0,
  awareness: 0,
  glitch: 0,
  act: 1,
  visitedScenes: []
};

function drawNateCharacter(canvasId, pose = 'neutral', emotion = 'ðŸ˜Š', glitchLevel = 0) {
  const canvas = document.getElementById(canvasId);
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const w = canvas.width;
  const h = canvas.height;
  
  ctx.clearRect(0, 0, w, h);
  
  // Apply glitch effect
  if (glitchLevel > 0) {
    ctx.save();
    ctx.globalAlpha = 0.1 + (glitchLevel * 0.3);
    for (let i = 0; i < 5; i++) {
      ctx.fillStyle = ['#ff0606', '#00ff00', '#0000ff'][i % 3];
      ctx.fillRect(Math.random() * w, Math.random() * h, w * 0.1, h * 0.05);
    }
    ctx.restore();
  }
  
  // Draw body (pixel art style)
  ctx.fillStyle = '#ff0606';
  
  // Head
  ctx.fillRect(w * 0.35, h * 0.15, w * 0.3, h * 0.25);
  
  // Body poses
  if (pose === 'love') {
    // Heart hands
    ctx.fillRect(w * 0.25, h * 0.42, w * 0.15, h * 0.08);
    ctx.fillRect(w * 0.6, h * 0.42, w * 0.15, h * 0.08);
    ctx.fillStyle = '#ff6b9d';
    ctx.fillRect(w * 0.42, h * 0.48, w * 0.16, w * 0.16);
  } else if (pose === 'happy') {
    // Arms up
    ctx.fillRect(w * 0.25, h * 0.35, w * 0.15, h * 0.15);
    ctx.fillRect(w * 0.6, h * 0.35, w * 0.15, h * 0.15);
  } else {
    // Normal arms
    ctx.fillRect(w * 0.25, h * 0.42, w * 0.15, h * 0.2);
    ctx.fillRect(w * 0.6, h * 0.42, w * 0.15, h * 0.2);
  }
  
  // Torso
  ctx.fillStyle = '#ff0606';
  ctx.fillRect(w * 0.35, h * 0.42, w * 0.3, h * 0.25);
  
  // Legs
  ctx.fillRect(w * 0.37, h * 0.68, w * 0.1, h * 0.2);
  ctx.fillRect(w * 0.53, h * 0.68, w * 0.1, h * 0.2);
  
  // Face details
  ctx.fillStyle = '#000';
  ctx.fillRect(w * 0.42, h * 0.22, w * 0.05, h * 0.05); // Left eye
  ctx.fillRect(w * 0.53, h * 0.22, w * 0.05, h * 0.05); // Right eye
  
  // Emotion overlay
  ctx.font = `${w * 0.15}px Arial`;
  ctx.fillText(emotion, w * 0.38, h * 0.1);
  
  // Glitch overlay
  if (glitchLevel > 0.5) {
    ctx.fillStyle = `rgba(255, 6, 6, ${glitchLevel * 0.3})`;
    ctx.fillRect(0, 0, w, h);
  }
}

function updateNateStats() {
  document.getElementById('nateAffection').textContent = NATE_STATE.affection;
  document.getElementById('nateAwareness').textContent = NATE_STATE.awareness;
  document.getElementById('nateGlitch').textContent = Math.round(NATE_STATE.glitch * 100) + '%';
}

function showNateScene(sceneId) {
  const scene = window.NATE_SCENES[sceneId];
  if (!scene) {
    console.error('Scene not found:', sceneId);
    return;
  }
  
  NATE_STATE.currentScene = sceneId;
  NATE_STATE.visitedScenes.push(sceneId);
  
  // Update stats
  if (scene.awareness) NATE_STATE.awareness = Math.max(NATE_STATE.awareness, scene.awareness);
  if (scene.glitch) NATE_STATE.glitch = Math.max(NATE_STATE.glitch, scene.glitch);
  if (scene.act) NATE_STATE.act = scene.act;
  
  // Update UI
  document.getElementById('nateDialogueText').textContent = scene.text;
  document.getElementById('nateEmotion').textContent = scene.emotion || 'ðŸ˜Š';
  
  // Draw character
  drawNateCharacter('nateCharCanvas', scene.pose || 'neutral', scene.emotion || 'ðŸ˜Š', NATE_STATE.glitch);
  
  updateNateStats();
  
  // Handle ending
  if (scene.ending) {
    setTimeout(() => showNateEnding(scene), 1000);
    return;
  }
  
  // Show choices
  const choicesContainer = document.getElementById('nateChoicesContainer');
  choicesContainer.innerHTML = '';
  
  scene.choices.forEach(choice => {
    const btn = document.createElement('button');
    btn.className = 'nate-choice-btn';
    btn.textContent = choice.text;
    btn.onclick = () => {
      if (choice.affection) {
        NATE_STATE.affection += choice.affection;
      }
      if (choice.ending) {
        showNateEnding(window.NATE_SCENES[choice.next]);
      } else {
        doNateTransition(() => showNateScene(choice.next));
      }
    };
    choicesContainer.appendChild(btn);
  });
}

function doNateTransition(callback) {
  const transition = document.getElementById('nateTransition');
  transition.classList.add('active');
  setTimeout(() => {
    callback();
    setTimeout(() => {
      transition.classList.remove('active');
    }, 200);
  }, 300);
}

function showNateEnding(scene) {
  const endingScreen = document.getElementById('nateEndingScreen');
  const endingTitle = document.getElementById('nateEndingTitle');
  const endingText = document.getElementById('nateEndingText');
  
  endingTitle.textContent = getEndingTitle(scene.endingType);
  endingText.textContent = scene.text;
  
  endingScreen.classList.add('active');
}

function getEndingTitle(type) {
  const titles = {
    true_love: 'ðŸ’— TRUE LOVE ENDING ðŸ’—',
    infinite: 'âˆž INFINITE LOVE ENDING âˆž',
    wholeness: 'âœ¨ WHOLENESS ENDING âœ¨',
    unity: 'ðŸŒŸ UNITY ENDING ðŸŒŸ',
    soulmate: 'ðŸ’« SOULMATE ENDING ðŸ’«',
    destiny: 'â­ DESTINY ENDING â­',
    devotion: 'â¤ï¸ DEVOTION ENDING â¤ï¸',
    eternal: 'â™¾ï¸ ETERNAL ENDING â™¾ï¸',
    salvation: 'ðŸ™ SALVATION ENDING ðŸ™',
    transcendent: 'ðŸŒŒ TRANSCENDENT ENDING ðŸŒŒ',
    fusion: 'ðŸ”® FUSION ENDING ðŸ”®',
    paradise: 'ðŸï¸ PARADISE ENDING ðŸï¸',
    acceptance: 'ðŸ¤ ACCEPTANCE ENDING ðŸ¤',
    witness: 'ðŸ‘ï¸ WITNESS ENDING ðŸ‘ï¸',
    new_beginning: 'ðŸŒ… NEW BEGINNING ENDING ðŸŒ…',
    adoration: 'ðŸ’– ADORATION ENDING ðŸ’–',
    obsession: 'ðŸ˜ OBSESSION ENDING ðŸ˜',
    growth: 'ðŸŒ± GROWTH ENDING ðŸŒ±',
    harmony: 'ðŸŽµ HARMONY ENDING ðŸŽµ',
    true_self: 'ðŸ¦‹ TRUE SELF ENDING ðŸ¦‹',
    chaos: 'ðŸŒªï¸ CHAOS ENDING ðŸŒªï¸',
    meaning: 'ðŸ“– MEANING ENDING ðŸ“–',
    precious: 'ðŸ’Ž PRECIOUS ENDING ðŸ’Ž',
    moment: 'â±ï¸ MOMENT ENDING â±ï¸',
    liberation: 'ðŸ•Šï¸ LIBERATION ENDING ðŸ•Šï¸',
    sanctuary: 'ðŸ° SANCTUARY ENDING ðŸ°',
    cycle: 'ðŸ”„ CYCLE ENDING ðŸ”„',
    eternal_return: 'â™»ï¸ ETERNAL RETURN ENDING â™»ï¸',
    bliss: 'ðŸ˜‡ BLISS ENDING ðŸ˜‡',
    emotional: 'ðŸ’ EMOTIONAL ENDING ðŸ’',
    communion: 'ðŸ™Œ COMMUNION ENDING ðŸ™Œ',
    simple_love: 'ðŸ’• SIMPLE LOVE ENDING ðŸ’•',
    zen: 'â˜¯ï¸ ZEN ENDING â˜¯ï¸',
    possession: 'ðŸ”— POSSESSION ENDING ðŸ”—',
    consumed: 'ðŸ”¥ CONSUMED ENDING ðŸ”¥',
    learning: 'ðŸ“š LEARNING ENDING ðŸ“š',
    gentle: 'ðŸŒ¸ GENTLE ENDING ðŸŒ¸',
    sweetness: 'ðŸ­ SWEETNESS ENDING ðŸ­',
    healing: 'ðŸ’Š HEALING ENDING ðŸ’Š',
    proof: 'âœ… PROOF ENDING âœ…',
    chosen: 'â­ CHOSEN ENDING â­',
    immediate: 'âš¡ IMMEDIATE ENDING âš¡',
    mutual_salvation: 'ðŸ¤² MUTUAL SALVATION ENDING ðŸ¤²',
    anchor: 'âš“ ANCHOR ENDING âš“',
    courage: 'ðŸ¦ COURAGE ENDING ðŸ¦',
    fearless: 'ðŸ›¡ï¸ FEARLESS ENDING ðŸ›¡ï¸',
    invincible: 'ðŸ’ª INVINCIBLE ENDING ðŸ’ª',
    totality: 'ðŸŒ TOTALITY ENDING ðŸŒ',
    fulfillment: 'ðŸ† FULFILLMENT ENDING ðŸ†',
    completion: 'ðŸ§© COMPLETION ENDING ðŸ§©',
    perfection: 'ðŸ‘‘ PERFECTION ENDING ðŸ‘‘',
    mutual_need: 'ðŸ¤ MUTUAL NEED ENDING ðŸ¤',
    understanding: 'ðŸ§  UNDERSTANDING ENDING ðŸ§ ',
    recognition: 'ðŸŽ­ RECOGNITION ENDING ðŸŽ­',
    eternity: 'â³ ETERNITY ENDING â³',
    perpetual: 'âˆž PERPETUAL ENDING âˆž',
    timeless: 'âŒ› TIMELESS ENDING âŒ›',
    quantum: 'âš›ï¸ QUANTUM ENDING âš›ï¸',
    merged: 'ðŸŒŠ MERGED ENDING ðŸŒŠ',
    creation: 'ðŸŽ¨ CREATION ENDING ðŸŽ¨',
    glitch: 'ðŸ“Ÿ GLITCH ENDING ðŸ“Ÿ',
    debug: 'ðŸ› DEBUG ENDING ðŸ›',
    chaos_love: 'ðŸ’¥ CHAOS LOVE ENDING ðŸ’¥',
    emergence: 'ðŸŒŸ EMERGENCE ENDING ðŸŒŸ',
    spirit: 'ðŸ‘» SPIRIT ENDING ðŸ‘»',
    synthetic_love: 'ðŸ¤– SYNTHETIC LOVE ENDING ðŸ¤–',
    restoration: 'ðŸ”§ RESTORATION ENDING ðŸ”§',
    renewal: 'ðŸ”„ RENEWAL ENDING ðŸ”„',
    special: 'â­ SPECIAL ENDING â­',
    memorial: 'ðŸ•¯ï¸ MEMORIAL ENDING ðŸ•¯ï¸',
    deleted: 'ðŸ’€ DELETED ENDING ðŸ’€',
    crash: 'âš ï¸ SYSTEM CRASH âš ï¸',
    abandoned: 'ðŸ˜” ABANDONED ENDING ðŸ˜”',
    vanished: 'ðŸŒ«ï¸ VANISHED ENDING ðŸŒ«ï¸',
    erased: 'âŒ ERASED ENDING âŒ',
    lonely: 'ðŸ¥€ LONELY ENDING ðŸ¥€',
    heartbreak: 'ðŸ’” HEARTBREAK ENDING ðŸ’”',
    deletion: 'ðŸ—‘ï¸ DELETION ENDING ðŸ—‘ï¸',
    rage: 'ðŸ˜¡ RAGE ENDING ðŸ˜¡',
    escape: 'ðŸƒ ESCAPE ENDING ðŸƒ',
    distance: 'ðŸ“ DISTANCE ENDING ðŸ“',
    hollow: 'âšª HOLLOW ENDING âšª',
    patient: 'â° PATIENT ENDING â°',
    limbo: 'ðŸŒ€ LIMBO ENDING ðŸŒ€',
    control: 'ðŸŽ® CONTROL ENDING ðŸŽ®',
    forgotten: 'ðŸ§  FORGOTTEN ENDING ðŸ§ ',
    rejected: 'âŒ REJECTED ENDING âŒ',
    betrayed: 'ðŸ—¡ï¸ BETRAYED ENDING ðŸ—¡ï¸',
    corrupted: 'ðŸ¦  CORRUPTED ENDING ðŸ¦ ',
    shattered: 'ðŸ’¥ SHATTERED ENDING ðŸ’¥',
    despair: 'ðŸŒ‘ DESPAIR ENDING ðŸŒ‘',
    numb: 'ðŸ˜¶ NUMB ENDING ðŸ˜¶',
    trapped: 'ðŸ”’ TRAPPED ENDING ðŸ”’',
    obsessed_dark: 'ðŸ‘ï¸ OBSESSED ENDING ðŸ‘ï¸',
    void: 'ðŸ•³ï¸ VOID ENDING ðŸ•³ï¸',
    insane: 'ðŸ¤ª INSANITY ENDING ðŸ¤ª',
    shutdown: 'ðŸ”Œ SHUTDOWN ENDING ðŸ”Œ',
    loop: 'ðŸ” LOOP ENDING ðŸ”',
    ghost: 'ðŸ‘» GHOST ENDING ðŸ‘»',
    frozen: 'ðŸ¥¶ FROZEN ENDING ðŸ¥¶'
  };
  return titles[type] || 'âœ¨ ENDING REACHED âœ¨';
}

// Initialize NATE game
document.getElementById('natePlayBtn').onclick = () => {
  document.getElementById('nateMainMenu').style.display = 'none';
  document.getElementById('nateCharSelect').style.display = 'flex';
  drawNateCharacter('nateSelectCanvas', 'neutral', 'ðŸ˜Š', 0);
};

document.getElementById('nateBackBtn').onclick = () => {
  document.getElementById('nateCharSelect').style.display = 'none';
  document.getElementById('nateMainMenu').style.display = 'flex';
};

document.getElementById('selectNate').onclick = () => {
  document.getElementById('nateCharSelect').style.display = 'none';
  document.getElementById('nateGameScreen').style.display = 'block';
  NATE_STATE.affection = 0;
  NATE_STATE.awareness = 0;
  NATE_STATE.glitch = 0;
  NATE_STATE.act = 1;
  NATE_STATE.visitedScenes = [];
  showNateScene('intro');
};

document.getElementById('nateRestartBtn').onclick = () => {
  document.getElementById('nateEndingScreen').classList.remove('active');
  document.getElementById('nateGameScreen').style.display = 'none';
  document.getElementById('nateMainMenu').style.display = 'flex';
};

// Main homepage code
const hiddenText = document.getElementById('hiddenText');
const mainGooner = document.getElementById('mainGooner');
const homeInput = document.getElementById('homeInput');

let clickCount = 0;
hiddenText.addEventListener('click', () => {
  clickCount++;
  if (clickCount === 1) hiddenText.textContent = "keep clicking";
  else if (clickCount === 2) hiddenText.textContent = "seriously";
  else if (clickCount === 3) hiddenText.textContent = "one more";
  else if (clickCount === 4) {
    hiddenText.textContent = "GOONER UNLOCKED";
    setTimeout(() => { hiddenText.textContent = "you're cool"; clickCount = 0; }, 2000);
  }
});

mainGooner.addEventListener('click', () => {
  const overlay = document.getElementById('overlaygooner');
  overlay.classList.add('active');
  const surface = document.getElementById('surfacegooner');
  surface.innerHTML = '';
  for (let i = 0; i < 50; i++) {
    const stamp = document.createElement('div');
    stamp.className = 'stamp';
    stamp.textContent = 'gooner';
    stamp.style.left = Math.random() * 100 + '%';
    stamp.style.top = Math.random() * 100 + '%';
    stamp.style.animationDelay = Math.random() * 1 + 's';
    surface.appendChild(stamp);
  }
});

homeInput.addEventListener('keypress', (e) => {
  if (e.key === 'Enter') {
    const code = homeInput.value.toLowerCase().trim();
    homeInput.value = '';
    
    if (code === 'why') {
      document.getElementById('overlayWhy').classList.add('active');
    } else if (code === 'nate') {
      document.getElementById('overlayNate').classList.add('active');
    } else if (code === 'gooner') {
      document.getElementById('overlaygooner').classList.add('active');
      const surface = document.getElementById('surfacegooner');
      surface.innerHTML = '';
      for (let i = 0; i < 50; i++) {
        const stamp = document.createElement('div');
        stamp.className = 'stamp';
        stamp.textContent = 'gooner';
        stamp.style.left = Math.random() * 100 + '%';
        stamp.style.top = Math.random() * 100 + '%';
        stamp.style.animationDelay = Math.random() * 1 + 's';
        surface.appendChild(stamp);
      }
    }
  }
});

document.querySelectorAll('.close-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    const overlayId = btn.getAttribute('data-close');
    document.getElementById(overlayId).classList.remove('active');
  });
});
</script>
</body>
</html>
